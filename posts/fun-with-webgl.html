<link href="../assets/css/bootstrap.min.css" rel="stylesheet">
<link href="../assets/css/philippmatthes.css" rel="stylesheet">

<body style="width: 100%; height: 100%;"></body>

<script src="../assets/js/jquery-3.3.1.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>

<script src="../assets/js/fun-with-colors.js"></script>
<script src="../assets/js/three.min.js"></script>
<script src="../assets/js/OrbitControls.js"></script>
<script src="../assets/js/OBJLoader.js"></script>

<script id="vs" type="webgl">
	void main() {
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
</script>
<script id="fs" type="webgl">
	void main() {
      gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
    }
</script>

<script>

var scene, renderer, camera;
var mesh;
var controls;

function init() {
    renderer = new THREE.WebGLRenderer( {antialias:true} );
    var width = window.innerWidth;
    var height = window.innerHeight;
    renderer.setSize (width, height);
    document.body.appendChild (renderer.domElement);

    scene = new THREE.Scene();

    var material = new THREE.ShaderMaterial({
        vertexShader:   $("#vs").text(),
        fragmentShader: $("#fs").text()
    });

    var loader = new THREE.OBJLoader();

    loader.load(
        '../assets/models/bunny.obj',
        function (object) {
            mesh = object;
            scene.add(object);
        },
        function (xhr) {
            console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );
        },
        function (error) {
            console.log( 'An error happened' );
        }
    );

    camera = new THREE.PerspectiveCamera (45, width/height, 1, 10000);
    camera.position.y = 160;
    camera.position.z = 200;
    camera.lookAt (new THREE.Vector3(0,0,0));

    controls = new THREE.OrbitControls( camera, renderer.domElement );
    controls.enableDamping = true;
    controls.dampingFactor = 0.25;
    controls.enableZoom = true;
    controls.autoRotate = true;

}

function animate() {
    controls.update();
    requestAnimationFrame ( animate );
    renderer.render (scene, camera);
}

window.addEventListener("resize", function() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
}, false);

init();
animate();


</script>